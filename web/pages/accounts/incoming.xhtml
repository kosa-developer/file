<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

    <ui:define name="head">
        <style type="text/css">
            .graycat
            {
                background-color:gray !important ;
                color: yellow !important;
            }
            .greencat
            {
                background-color:green !important ;
                color: white !important;
            }
            .redcat
            {
                background-color:red !important ;
                color:whitesmoke !important;
            }
            .yellowcat {
                background-color: yellow !important;
            }
            .bluecat {
                background-color: blue !important;
                color: yellow !important;
            }
            .orangecat {
                background-color: orange !important;
            }
        </style>
    </ui:define>
    <ui:define name="content">

        <div class="card">

            <h:form id="accountform">

                <div class="card">
                    <p:dataTable id="pendingtasks" var="pendingtask"  value="#{accountsBean.accounts_get_forwaded_jobs(appMenu.userid)}"  
                                 paginator="true" rows="10"
                                 paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                                 currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
                                 rowsPerPageTemplate="5,10,100,200,500,1000,{ShowAll|'All'}" rowStyleClass="#{pendingtask.color_code eq 0 ? 'graycat' : null}#{pendingtask.color_code eq 1 ? 'greencat' : null}#{pendingtask.color_code eq 2 ? 'redcat' : null}#{pendingtask.color_code eq 3 ? 'yellowcat' : null}#{pendingtask.color_code eq 4 ? 'bluecat' : null}#{pendingtask.color_code eq 5 ? 'orangecat' : null}" >

                        <p:column headerText="Patient ID" styleClass="tblcol2" filterBy="#{pendingtask.patient_id}" filterFunction="#{dynamicFunctionsBean.filterByName}">  
                            #{pendingtask.patient_id}
                        </p:column>  

                        <p:column footerText="Patient Name" styleClass="tblcol6" filterBy="#{pendingtask.patient_name}" filterFunction="#{dynamicFunctionsBean.filterByName}">  

                            <f:facet name="header">  
                                <h:outputText value="Patient Name" />  
                            </f:facet>
                            <h:outputText value="#{pendingtask.patient_name}" />
                        </p:column>  

                        <p:column footerText="Age" styleClass="tblcol2">  
                            <f:facet name="header">  
                                <h:outputText value="Age" />  
                            </f:facet>
                            <h:outputText value="#{pendingtask.age} " />
                        </p:column>  

                        <p:column footerText="Gender" styleClass="tblcol3">  
                            <f:facet name="header">  
                                <h:outputText value="Gender" />  
                            </f:facet>
                            <h:outputText value="#{pendingtask.gender}" />

                        </p:column>  


                        <p:column styleClass="tblcol2" >  
                            <p:commandButton id="right" update=":accountform:notification" styleClass="rounded-button ui-button-success ui-button-outlined" icon="pi pi-money-bill" action="#{accountsBean.accounts_get_selected_task(pendingtask.track_id,appMenu.userid)}"/>
                            <p:tooltip for="right" value="Make Payments" position="right"/>
                        </p:column>

                    </p:dataTable>

                    <p:messages id="notification"/>
                </div>

                <p:poll interval="10" update="pendingtasks" />
            </h:form>
        </div>

    </ui:define>
</ui:composition>
