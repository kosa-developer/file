<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

    <ui:define name="head">
        <style type="text/css">
            .graycat
            {
                background-color:gray !important ;
                color: yellow !important;
            }
            .greencat
            {
                background-color:green !important ;
                color: white !important;
            }
            .redcat
            {
                background-color:red !important ;
                color:whitesmoke !important;
            }
            .yellowcat {
                background-color: yellow !important;
            }
            .bluecat {
                background-color: blue !important;
                color: yellow !important;
            }
            .orangecat {
                background-color: orange !important;
            }

        </style>
    </ui:define>
    <ui:define name="content">

        <div class="card">

            <h:form>
                <p:panel id="pnl" header="Clients">
                    <p:dataTable id="pendingtasks" var="pending" value="#{laboratoryBean.laboratory_get_pending_tasks(appMenu.userid)}" 
                                 paginator="true" rows="15" paginatorPosition="bottom" style=" background-color: #f7f7f7;width: 100%;" 
                                 rowStyleClass="#{pending.color_code eq 0 ? 'graycat' : null}#{pending.color_code eq 1 ? 'greencat' : null}#{pending.color_code eq 2 ? 'redcat' : null}#{pending.color_code eq 3 ? 'yellowcat' : null}#{pending.color_code eq 4 ? 'bluecat' : null}#{pending.color_code eq 5 ? 'orangecat' : null}"
                                 >

                        <p:column headerText="Lab ID" styleClass="tblcol2" >  
                            #{pending.lab_id} 
                        </p:column>

                        <p:column headerText="Patient ID" styleClass="tblcol2" >  
                            #{pending.patient_Id}
                        </p:column>  

                        <p:column headerText="Patient Name" styleClass="tblcol5" >  
                            #{pending.patient_name}
                        </p:column>  

                        <p:column headerText="Age" styleClass="tblcol1" >  
                            #{pending.patient_current_age} 
                        </p:column>  

                        <p:column headerText="Gender" styleClass="tblcol2" >  
                            #{pending.gender}
                        </p:column> 

                        <p:column headerText="Priority" styleClass="tblcol1" >  
                            #{pending.urgency}
                        </p:column>

                        <p:column headerText="From" styleClass="tblcol2" >  
                            #{pending.forward_to}
                        </p:column>

                        <p:column styleClass="tblcol2" >  
                            <h:commandLink value="View Request" style="font-family: 'Tangerine', serif; font-weight: bold; color: blue; width: 10%;" action="#{laboratoryBean.laboratory_get_selected_task(pending.task_Id,appMenu.userid,pending.lab_id,pending.forward_to)}"/>
                             </p:column>

                    </p:dataTable>


                </p:panel>
                <p:growl id="notification" sticky="true"/>
                <p:poll interval="10" update="pendingtasks" />

            </h:form>
        </div>

    </ui:define>
</ui:composition>
