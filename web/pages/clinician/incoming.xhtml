<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="head">
        <style type="text/css">
            .graycat
            {
                background-color:gray !important ;
                color: yellow !important;
            }
            .greencat
            {
                background-color:green !important ;
                color: yellow !important;
            }
            .redcat
            {
                background-color:red !important ;
                color: yellow !important;
            }
            .yellowcat {
                background-color: yellow !important;
            }
            .bluecat {
                background-color: blue !important;
                color: yellow !important;
            }
            .orangecat {
                background-color: orange !important;
            }

        </style>
    </ui:define>
    <ui:define name="title">
        List of clients 
    </ui:define>



    <ui:define name="implementation">
        <div class="card">
            <h:form>
                <p:dataTable id="pendingtasks" var="pending" value="#{consultantBean.consultant_get_pending_tasks(appMenu.userid)}" 
                             paginator="true" rows="15" paginatorPosition="bottom" style=" background-color: #f7f7f7;width: 100%;" 
                             rowStyleClass="#{pending.color_code eq 0 ? 'graycat' : null}#{pending.color_code eq 1 ? 'greencat' : null}#{pending.color_code eq 2 ? 'redcat' : null}#{pending.color_code eq 3 ? 'yellowcat' : null}#{pending.color_code eq 4 ? 'bluecat' : null}#{pending.color_code eq 5 ? 'orangecat' : null}"
                             >

                    <p:column headerText="Patient ID" styleClass="tblcol2">  
                        #{pending.patient_Id}
                    </p:column>  

                    <p:column headerText="Patient Name" styleClass="tblcol4" filterBy="#{pending.patient_name}" filterFunction="#{dynamicFunctionsBean.filterByName}">  
                        #{pending.patient_name} #{pending.record_errors eq null ? '' : pending.record_errors eq '' ? '' : '***['}#{pending.record_errors}#{pending.record_errors eq null ? '' : pending.record_errors eq '' ? '' : ']***'}
                    </p:column>  

                    <p:column headerText="Age" styleClass="tblcol2">  
                        #{pending.patient_current_age} 
                    </p:column>  

                    <p:column headerText="Gender" styleClass="tblcol2">  
                        #{pending.gender}
                    </p:column>  

                    <p:column headerText="Room No"  styleClass="tblcol1">  
                        #{pending.room_no}
                    </p:column>

                    <p:column headerText="Time In"  styleClass="tblcol2">  
                        #{pending.record_time}
                    </p:column>

                    <p:column styleClass="tblcol2">  
                        <h:commandLink value="View Details" style="color: black;width: 10%;" action="#{consultantBean.consultant_get_selected_task(pending.task_Id,userid.value)}"/>
                    </p:column>

                </p:dataTable>
                  <p:growl id="notification" sticky="true"/>
            <p:poll interval="10" update="pendingtasks" />
            </h:form>
        </div>
    </ui:define>

    <ui:define name="more-source-tabs">
        <p:tab title="/org/primefaces/showcase/view/data/dataexporter/TextExporter.java"/>
    </ui:define>

</ui:composition>
