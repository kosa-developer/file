<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

    <ui:define name="content">

        <div class="card">
            <div class="p-grid">
                <h:form id="form_category" class="card p-col-12 p-md-4">

                    <h5 class="p-mt-0">Register Test categories</h5>
                     <div class="ui-fluid p-formgrid p-grid p-col-12 p-md-12" >
                    <div class="p-field ">
                        <h:outputLabel value="Category Name:" />
                        <p:inputText id="department" value="#{adminBean.test_category}" required="true" >
                            <p:clientValidator/>
                        </p:inputText>
                    </div>
                     </div>
                    <p:commandButton id="saveBtn" value="Save" action="#{adminBean.admin_add_test_category()}" update="categoryTbl,form_category" icon="pi pi-check"   styleClass="p-mt-3" />

                    <p:messages/>
                </h:form>
                <h:form id="categoryTbl" class="card p-col-12 p-md-8">
                    <p:dataTable id="categoryTble"  value="#{adminBean.admin_get_test_categories()}" rows="5" size="small" showGridlines="true"
                                 paginator="true" scrollable="true"  editable="true" 
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
                                 rowsPerPageTemplate="5,10,100,200,500,1000,{ShowAll|'All'}" var="cat" style="width: 100%;"
                                 emptyMessage="No Test Category Has Been Added ">
                        <f:facet name="header">
                            <div class="p-d-flex p-ai-center p-jc-between">
                                <h5>Category List</h5>
                               </div>
                        </f:facet>
                        <p:ajax event="rowEdit" listener="#{dynamicFunctionsBean.admin_edit_table_data('test_categories', 'category', 'category_id', cat.category_id, categoryname.value)}" update="categoryTble"  />
                        <p:ajax event="rowEditCancel" listener="#{dynamicFunctionsBean.onRowCancel}" update="categoryTble" />

                        <p:column headerText="Category" filterBy="#{cat.category_desc}" >  

                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{cat.category_desc}" /></f:facet>
                                <f:facet name="input"><p:inputText placeholder="#{cat.category_desc}" binding="#{categoryname}" class="form-control" label="categoryname"/></f:facet>
                            </p:cellEditor>
                        </p:column> 

                        <p:column styleClass="tblcol2" >  
                            <p:rowEditor id="deleteprivillage" />
                            <p:tooltip for="deleteprivillage" value="edit category" position="right"/>
                        </p:column> 

                    </p:dataTable>
                </h:form>
            </div>
        </div>

    </ui:define>
</ui:composition>
